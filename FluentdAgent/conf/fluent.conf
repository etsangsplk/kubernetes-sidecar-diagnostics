
# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/conf/fluent.conf.erb

<source>
  @type forward
</source>

<source>
  @type http
  port 8887 # should be configurable through k8s yaml
</source>

<filter **>
  @type kubernetes_metadata_sidecar
  source_container_name "#{ENV['SOURCE_CONTAINER_NAME']}"
  pod_name "#{ENV['POD_NAME']}"
  namespace_name "#{ENV['NAMESPACE_NAME']}"
</filter>

<match **>
  @type application_insights
  instrumentation_key "#{ENV['INSTRUMENTATION_KEY']}"
</match>

<match **>
   @type stdout
</match>
